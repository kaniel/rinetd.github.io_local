<!doctype html><html lang=zh-cn class=no-js><title>linux system socket</title><meta charset=utf-8><meta name=robots content=index,nofollow><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta http-equiv=x-dns-prefetch-control content=on><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content=origin-when-cross-origin><meta name=description content="一 TCP/IP与套接字 套接字是通信端点的抽象 套接字同样适用于本地的通信,代替管道 wirte和read同样适用于套接字 二 TCP通讯 1)tcp使"><meta name=author content=rinetd><meta name=google-site-verification content=ifeWsnNpU7w8vP3ii_Cjq-P9LKw3ngVitnMWv4XmJqk><link rel=canonical href=../../../language/linux-system/linux-system-socket/><link rel=icon href=../../../public/favicon.ico><link rel="shortcut icon" href=../../../public/favicon.ico><link rel=stylesheet href=../../../front/css/main.min.css><link href=https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link rel=stylesheet href=//cdn.bootcss.com/video.js/6.2.8/alt/video-js-cdn.min.css><body class="single single-post single-format-standard col-3cm full-width topbar-enabled chrome"><div id=wrapper><header id=header class="top-menu-mobile-on one-mobile-menu top_menu header-ads-desktop  topbar-transparent"><nav class="nav-container group mobile-menu mobile-sticky" id=nav-mobile data-menu-id=header-1><div class=mobile-title-logo-in-header><p class=site-title><a class=custom-logo-link href rel=home title="Pytool | Home">Pytool</a></div><div class="ham__navbar-toggler-two collapsed" title=Menu aria-expanded=false><div class=ham__navbar-span-wrapper><span class="line line-1"></span><span class="line line-2"></span><span class="line line-3"></span></div></div><div class=nav-text>linux system socket</div><div class="nav-wrap container"><ul class="nav container-inner group mobile-search"><li><form class="searchform themeform" action=https://demo-hueman.presscustomizr.com/><div><input class=search name=s onblur="if(this.value=='')this.value='To search type and hit enter';" onfocus="if(this.value=='To search type and hit enter')this.value='';" value="To search type and hit enter"></div></form></ul><ul id=menu-topbar-menu class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href>Home</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>车联网</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-底层</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/clang/>Clang</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/golang/>Golang</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/cgo/>Cgo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/hugo/>Hugo</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/sys/>Sys</a><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/golang/goher/>Goher</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/python/>Python</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/python/scrapy/>Scrapy</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/java/>Java</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/java/hadoop/>Hadoop</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/php/>Php</a><ul class=sub-menu><li class="menu-item menu-item-type-custom menu-item-object-custom"><a href=../../../language/php/magento/>Magento</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/git/>Git</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../macos/>Macos</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/math/>Math</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../frontend/css/>Css</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>系统监控</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../windows/>Windows</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_端口扫描</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_端口转发(隧道)</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../work/>Work</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../weixin/>Weixin</a><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children"><a href=../../../edit/>Edit</a><li class=item><a class=text href=../../../series/>series</a><li class=item><a class=text href=../../../categories/>categories</a><li class=item><a class=text href=../../../tags/>tags</a><li class=item><a class=text href=../../../me/>about</a></ul></div></nav><nav class="nav-container group desktop-menu desktop-sticky" id=nav-topbar data-menu-id=header-2><div class=nav-text>linux system socket</div><div class=topbar-toggle-down><i class="fas fa-angle-double-down" aria-hidden=true data-toggle=down title="Expand menu"></i><i class="fas fa-angle-double-up" aria-hidden=true data-toggle=up title="Collapse menu"></i></div><div class="nav-wrap container"><ul id=menu-topbar-menu-1 class="nav container-inner group"><li class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home"><a href=../../../>Home</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../hardware/>Hardware</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/kernel/>Kernel</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/hisilicon/>Hisilicon</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rtmp/>Rtmp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rk3399/>Rk3399</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/dts/>Dts</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/rk3288/>Rk3288</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/%E8%BD%A6%E8%81%94%E7%BD%91/>车联网</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hardware/android-%E5%BA%95%E5%B1%82/>Android-底层</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../language/>Language</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/clang/>Clang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/golang/>Golang</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/cpp/>Cpp</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/python/>Python</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/java/>Java</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/awesome/>Awesome</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/php/>Php</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../language/android/>Android</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../linux/>Linux</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/shell/>Shell</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/cmd/>Cmd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/nginx/>Nginx</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/ip/>Ip</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/git/>Git</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/haproxy/>Haproxy</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../linux/lvs/>Lvs</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../macos/>Macos</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../post/>Post</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/english/>English</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/seo/>Seo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/life/>Life</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/wiki/>Wiki</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/software/>Software</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/basic/>Basic</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../post/reship/>Reship</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../ai/>Ai</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/yolo/>Yolo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/caffe/>Caffe</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/math/>Math</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/ncnn/>Ncnn</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/dataset/>Dataset</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../ai/pytorch/>Pytorch</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../frontend/>Frontend</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../frontend/css/>Css</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../frontend/vue/>Vue</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../devops/>Devops</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/docker/>Docker</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/elk/>Elk</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/ansible/>Ansible</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/prometheus/>Prometheus</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/drone/>Drone</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/kubernetes/>Kubernetes</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/oauth2/>OAuth2</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/etcd/>Etcd</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/apidoc/>Apidoc</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../devops/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/>系统监控</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../database/>Database</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/mysql/>Mysql</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/mongo/>Mongo</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../database/redis/>Redis</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../windows/>Windows</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../hacker/>Hacker</a><ul class=sub-menu><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/01_%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/>01_端口扫描</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/00_%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E9%9A%A7%E9%81%93/>00_端口转发(隧道)</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/01-info-gather/>01-Info-Gather</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/02-spoof/>02-Spoof</a><li class="menu-item menu-item-type-taxonomy menu-item-object-post_tag"><a href=../../../hacker/shells/>Shells</a></ul><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../work/>Work</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../weixin/>Weixin</a><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children"><a href=../../../edit/>Edit</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../series/>series</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../categories/>categories</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../tags/>tags</a><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href=../../../me/>about</a></ul></div></nav></header><div class=container id=page><div class=container-inner><div class=main><div class="main-inner group"><div class=content><div class="pad group page-title"><ul class="meta-single group"><li><span class="fa fa-folder-open"></span><li class=category><a href=../../../categories/linux-system/ rel="category tag">linux-system</a></ul></div><div class="pad group"><article class="post type-post status-publish format-standard has-post-thumbnail hentry category-lifestyle tag-classical-grid tag-masonry-grid tag-standard-list"><div class="post-inner group"><h1 class=post-title>linux system socket</h1><p class=post-byline>by · 2020年06月23日 · 9407 Words ·
~19min reading time |
<a href=https://gitlab.com/rinetd/blog/edit/master/language/linux-system/linux-system-socket.md target=_blank>Improve on <i class="fa fa-gitlab"></i></a><div class=clear></div><div class="entry themeform"><div class=entry-inner></br>原文链接：<a target=_blank href=../../../language/linux-system/linux-system-socket/> linux system socket</a><p>一 TCP/IP与套接字<ul><li>套接字是通信端点的抽象<br><li>套接字同样适用于本地的通信,代替管道<br><li>wirte和read同样适用于套接字<br><br></ul><p>二 TCP通讯<br>1)tcp使用的过程，<br>client端，主动连接方叫client。<br>server端，被动接收方叫server。<br>=&gt;TCP先连接（三次握手）<br>client &gt; server:发送SYN a<br>server &gt; client:回复SYN b,ack a + 1<br>client &gt; server ack b + 1<p>==&gt;连接通了，双方可以互相收发消息<p>===&gt;断开连接<br>client &gt; server:FIN m<br>server &gt; client :ack m +1<br>server &gt; client:FIN n<br>client &gt; server :ack n + 1<p>2)一个程序套接字需要执行4个步骤<ul><li>分配套接口和初始化<br><li>连接<br><li>发送或连接数据<br><li>关闭套接字<br><br></ul><p>3)涉及到的调用:<br>socket(),bind(),listen(),connect(),accept(),recv(),send()<p>#include <sys/types.h><br>#include <sys/socket.h><p>int socket(int domain,int type,int protocal);<br>//domain 说明:一般用AF_INET<br>值 说明<br>AF_UNIX UNIX内部使用<br>AF_INET TCP/IP协议<br>AF_ISO 国际标准组织协议<br>AF_NS Xerox网络协议<br>//type 说明<br>值 说明<br>SOCK_STREAM 使用TCP可靠连接<br>SOCK_DGRAM 使用UDP不可靠连接<br>//protocal 一般填写0<br>//成功返回0,失败返回-1,并设置errno<p>int bind(int sockfd,const struct sockaddr* my_addr,socklen_t addrlen);<br>//bind 将进程和一个套接口联系起来,bind通常用于服务器进程为接入客户连接建立一个套接口<br>//参数sockfd是函数socket调用返回的套接口值<br>//参数my_addr是结构sockaddr的地址<br>//参数addrlen设置了my_addr能容纳的最大字节数<br>//成功返回0,失败返回-1,并设置errno<p>int listen(int sockfd,int backlog)<br>//监听客户端连接<br>//参数socket是调用socket返回的套接口描述符<br>//参数backlog设置接入队列的大小,通常设置为最大<br>//成功返回0,失败返回-1,并设置errno<p>int accept(int sockfd,struct sockaddr* addr,socklen_t *addrlen);<br>//accept会返回一个新的套接口,同时原来的套接口继续监听<br>//参数sockfd是函数socket调用返回的套接口描述符<br>//参数addr是指向结构sockaddr的地址<br>//参数addrlen设置了addr能容纳的最大字节数<br>//成功返回0,失败返回-1,并设置errno<p>int connect(int sockfd,const struct sockaddr* serv_addr,socklen_t addrlen);<br>//客户端调用connect与服务端连接<br>//参数sockfd是函数socket调用返回的套接口描述符<br>//参数addr是指向结构sockaddr的地址<br>//参数addrlen设置了addr能容纳的最大字节数<br>//成功返回0,失败返回-1,并设置errno<p>ssize_t send(int s, const void * buf,size_t len,int flags)<br>//参数s是已经建立的套接字<br>//参数buf是接收数据内存buffer的地址指针<br>//参数len指明buffer的大小,单位是字节<br>//参数flags一般填0<br>//成功返回0,失败返回-1,并设置errno<p>ssize_t recv(int s, const void * buf,size_t len,int flags)<br>//参数s是已经建立的套接字<br>//参数buf是接收数据内存buffer的地址指针<br>//参数len指明buffer的大小,单位是字节<br>//参数flags一般填0<br>//成功返回收到字节数,如果套接字关闭返回0,失败返回-1,并设置errno<p>int close(int sockfd)<br>//关闭套接字<p>int int setsockopt(int sockfd, int level, int optname,const void *optval, socklen_t optlen);<br>//setsockopt函数设置套接口<br>//常见用法:<br>//int on = 1;<br>//setsockopt(st,SOL_SOCKET,SO_REUSEADDR,&amp;on,sizeof(on))<br>//由于TCP套接字状态TIME_WAIT引起该套接字关闭后约保留2-4<br>//分钟,在此期间bind该端口会失败,SO_REUSEADDR设置系统地址可重用<p>/<em>tcp:server端</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <pthread.h><p>struct ps{<pre><code>int st;
pthread_t *thr;
</code></pre><p>};<p>pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;<p>int status = 0;<p>void *recvsocket(void *arg)//接收client端socket数据的线程<br>{<pre><code>struct ps *p = (struct ps *)arg;
int st = p-&gt;st;
char s[1024];

while(1)
{
    memset(s, 0, sizeof(s));
    int rc = recv(st, s, sizeof(s), 0);
    if (rc &lt;= 0)//如果recv返回小于等于0，代表socket已经关闭或者出错了
        break;
    printf(&quot;%s\n&quot;, s);

}
pthread_mutex_lock(&amp;mutex);
status-- ;
pthread_mutex_unlock(&amp;mutex);
pthread_cancel(*(p-&gt;thr));//被cancel掉的线程内部没有使用锁。
return NULL;
</code></pre><p>}<p>void *sendsocket(void *arg)//向client端socket发送数据的线程<br>{<pre><code>int st = *(int *)arg;
char s[1024];

while(1)
{
    memset(s, 0, sizeof(s));
    read(STDIN_FILENO, s, sizeof(s));//从键盘读取用户输入信息
    send(st, s, strlen(s), 0);
}
return NULL;
</code></pre><p>}<p>int main(int arg, char *args[])<br>{<pre><code>if (arg &lt; 2)
{
    return -1;
}

int port = atoi(args[1]);
int st = socket(AF_INET, SOCK_STREAM, 0);//初始化socket

//给TCP设置地址可重用
int on = 1;
if (setsockopt(st, SOL_SOCKET, SO_REUSEADDR, &amp;on, sizeof(on)) == -1)
{
    printf(&quot;setsockopt failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}


struct sockaddr_in addr;//定义一个IP地址结构
memset(&amp;addr, 0, sizeof(addr));
addr.sin_family = AF_INET;//将addr结构的属性定位为TCP/IP地址
addr.sin_port = htons(port);//将本地字节顺序转化为网络字节顺序。
addr.sin_addr.s_addr = htonl(INADDR_ANY);//INADDR_ANY代表这个server上所有的地址

//将IP与server程序绑定
if (bind(st, (struct sockaddr *) &amp;addr, sizeof(addr)) == -1)
{
    printf(&quot;bind failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}

//server端开始listen，
if (listen(st, 20) == -1)
{
    printf(&quot;listen failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}
int client_st = 0;//client端socket
//socklen_t len = 0;
struct sockaddr_in client_addr;//表示client端的IP地址
//void *p = &amp;client_addr;

pthread_t thrd1, thrd2;


while (1)
{
    memset(&amp;client_addr, 0, sizeof(client_addr));
    socklen_t len = sizeof(client_addr);
    //accept会阻塞，直到有客户端连接过来，accept返回client的socket描述符
    client_st = accept(st, (struct sockaddr *)&amp;client_addr , &amp;len);
    pthread_mutex_lock(&amp;mutex);//为全局变量加一个互斥锁，防止与线程函数同时读写变量的冲突
    status++;
    pthread_mutex_unlock(&amp;mutex);//解锁
    if (status &gt; 5)//代表这是下一个socket连接
    {
        close(client_st);
        continue;
    }

    if (client_st == -1)
    {
        printf(&quot;accept failed %s\n&quot;, strerror(errno));
        return EXIT_FAILURE;
    }

    printf(&quot;accept by addr：%s\n&quot;, inet_ntoa(client_addr.sin_addr));
    printf(&quot;accept by port：%d\n&quot;, ntohs(client_addr.sin_port));
    struct ps ps1;
    ps1.st = client_st;
    ps1.thr = &amp;thrd2;
    pthread_create(&amp;thrd1, NULL, recvsocket, &amp;ps1);
    pthread_detach(thrd1);//设置线程为可分离
    pthread_create(&amp;thrd2, NULL, sendsocket, &amp;client_st);
    pthread_detach(thrd2);//设置线程为可分离
}
close(st);//关闭server端listen的socket
return EXIT_SUCCESS;
</code></pre><p>}<p>/<em>tcp:client端</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <pthread.h><p>void *recvsocket(void *arg)<br>{<pre><code>int st = *(int *)arg;
char s[1024];

while(1)
{
    memset(s, 0, sizeof(s));
    int rc = recv(st, s, sizeof(s), 0);
    if (rc &lt;= 0)
        break;
    printf(&quot;%s\n&quot;, s);

}
return NULL;
</code></pre><p>}<p>void *sendsocket(void *arg)<br>{<pre><code>int st = *(int *)arg;
char s[1024];

while(1)
{
    memset(s, 0, sizeof(s));
    read(STDIN_FILENO, s, sizeof(s));
    send(st, s, strlen(s), 0);
}
return NULL;
</code></pre><p>}<p>int main(int arg, char *args[])<br>{<pre><code>if (arg &lt; 3)
    return -1;

int port = atoi(args[2]);
int st = socket(AF_INET, SOCK_STREAM, 0); //初始化socket，

struct sockaddr_in addr; //定义一个IP地址的结构
memset(&amp;addr, 0, sizeof(addr));
addr.sin_family = AF_INET; //设置结构地址类型为TCP/IP地址
addr.sin_port = htons(port); //指定一个端口号：8080，htons:将short类型从host字节类型到net字节类型转化
addr.sin_addr.s_addr = inet_addr(args[1]); //将字符串类型的IP地址转化为int，赋给addr结构成员.

//调用connect连接到结构addr指定的IP地址和端口号
if (connect(st, (struct sockaddr *) &amp;addr, sizeof(addr)) == -1)
{
    printf(&quot;connect failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}

pthread_t thrd1, thrd2;
pthread_create(&amp;thrd1, NULL, recvsocket, &amp;st);
pthread_create(&amp;thrd2, NULL, sendsocket, &amp;st);
pthread_join(thrd1, NULL);
//pthread_join(thrd2, NULL);
close(st); //关闭socket
return EXIT_SUCCESS;
</code></pre><p>}<p>三 UDP通讯<ul><li>UDP处理细节比TCP少<br><li>UDP不能保证消息被传送到目的地<br><li>UDP不能保证数据包传递顺序<br><li>UDP面向无连接<br><br></ul><p>udp/tcp都可用发送函数:<br>ssize_t recvfrom(int sockfd, void *buf, size_t len, int flags,<pre><code>                    struct sockaddr *src_addr, socklen_t *addrlen);
</code></pre><p>udp接收函数:<br>ssize_t sendto(int sockfd, const void *buf, size_t len, int flags,<pre><code>                  const struct sockaddr *dest_addr, socklen_t addrlen);
</code></pre><p>//udp不需要握手,也不需要server端监听listen<p>/<em>UDP发送</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <pthread.h><p>int main(int arg, char *args[])<br>{<pre><code>if (arg &lt; 3)
    return -1;

int st = socket(AF_INET, SOCK_DGRAM, 0);//建立socket的时候第二个参数值为SOCK_DGRAM
if (st == -1)
{
    printf(&quot;socket failed %s\n&quot;, strerror(errno));
    return 0;
}

int port = atoi(args[2]);

//设置UDP socket可以发送广播消息
int on = 1;
if (setsockopt(st, SOL_SOCKET, SO_BROADCAST, &amp;on, sizeof(on)) == -1)
{
    printf(&quot;setsockopt failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}



struct sockaddr_in addr;
memset(&amp;addr, 0, sizeof(addr));
addr.sin_family = AF_INET;
addr.sin_port = htons(port);
addr.sin_addr.s_addr = inet_addr(args[1]);
char buf[1024];
while (1)
{
    memset(buf, 0, sizeof(buf));
    read(STDIN_FILENO, buf, sizeof(buf));//读取用户键盘输入
    if (sendto(st, buf, strlen(buf), 0, (struct sockaddr *) &amp;addr,
            sizeof(addr)) == -1)//udp使用sendto发送消息
    {
        printf(&quot;sendto failed %s\n&quot;, strerror(errno));
        break;
    }
}
close(st);
return EXIT_SUCCESS;
</code></pre><p>}<p>/<em>udp接收端</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <pthread.h><p>int main(int arg, char *args[])<br>{<pre><code>if (arg &lt; 2)
    return -1;

int st = socket(AF_INET, SOCK_DGRAM, 0);
if (st == -1)
{
    printf(&quot;socket failed %s\n&quot;, strerror(errno));
    return 0;
}

int port = atoi(args[1]);
struct sockaddr_in addr;
memset(&amp;addr, 0, sizeof(addr));
addr.sin_family = AF_INET;
addr.sin_port = htons(port);
addr.sin_addr.s_addr = htonl(INADDR_ANY);
if (bind(st, (struct sockaddr *)&amp;addr, sizeof(addr)) == -1)//UDP接收数据，也需要绑定IP
{
    printf(&quot;bind failed %s\n&quot;, strerror(errno));
    return -1;
}
char buf[1024];
struct sockaddr_in client_addr;
socklen_t len = sizeof(client_addr);
while(1)
{
    memset(&amp;client_addr, 0, sizeof(client_addr));
    memset(buf, 0, sizeof(buf));
    if(recvfrom(st, buf, sizeof(buf), 0,
            (struct sockaddr *)&amp;client_addr, &amp;len) == -1)
    {
        printf(&quot;recvfrom failed %s\n&quot;, strerror(errno));
        break;
    }else
    {

        printf(&quot;%s recv is %s\n&quot;, inet_ntoa(client_addr.sin_addr), buf);
    }
}
close(st);
return 0;
</code></pre><p>}<p>四 非阻塞socket和epoll<br>1)阻塞socket<ul><li>阻塞调用是指调用结果返回之前，当前线程会被挂起。<br>函数只有在得到结果之后才会返回<br><li>对于文件操作read、fread函数将会把线程阻塞<br><li>对于socket、accept、与recv、recvfrom函数调用将会将线程阻塞<br><li>为了避免整个进程被阻塞后挂起，所以在阻塞模式下，往往需要采用多线程继续<br><li>一个进程中可以并发的线程总数总是有限的，在处理大量客户端socket连接，<br>线程并发处理socket也不方便，效率也不高<br><br></ul><p>2)非阻塞socket<ul><li>非阻塞调用是指调用立即返回<br><li>在非阻塞模式下，accept与recv、recvfrom函数调用就会立刻返回<br><li>在nonblocking状态下调用accept函数，如果没有客户端请求，那么<br>accept函数返回 -1 ，同时errno值为EAGAIN或者EWOULDBLOCK，这两<br>个宏定义都为整数11<br><li>在nonblocking状态下调用recv、recvfrom函数，如果没有数据，返回-1<br>，同时errno设置为11。如果socket已经关闭，函数返回0<br><li>在nonblocking状态下对一个已经关闭的socket调用send函数，将引发<br>一个SIGPIPE信号，进程必须捕捉这个信号，因为SIGPIPE系统默认处理<br>为关闭进程<br><br></ul><p>3)fcntl函数调用<ul><li>fcntl函数可以将文件或者socket描述符设置为阻塞或非阻塞<br><li>int fcntl(int fd,int cmd,.../<em>arg</em>/)<br>//参数fd为要设置的文件描述符或者socket<br>//参数cmd,F_GETFL为得到目前状态,F_SETFL为设置状态<br>//宏定义O_NONBLOCK代表非阻塞,0代表阻塞<br>//返回值为描述符当前状态<br><br></ul><p>/<em>fcntl设置非阻塞的列子</em>/<br>int opts = fcntl(st,F_GETFL);<br>if(opts &lt; 0)<br>{<pre><code>printf(&quot;fcntl failed %s\n&quot;,strerror(errno));
</code></pre><p>}<br>opts = opts | O_NONBLOCK;<br>if(fcntl(st,F_SETFL,opts ) &lt; 0)<br>{<pre><code>printf(&quot;fcntl failed %s\n&quot;,strerror(errno));
</code></pre><p>}<p>/<em>fcntl设置阻塞的列子</em>/<br>if(fcntl(st,F_SETFL,0 &lt; 0)<br>{<pre><code>printf(&quot;fcntl failed %s\n&quot;,strerror(errno));
</code></pre><p>}<p>4)epoll技术<ul><li>epoll是linux内核为处理大批量文件描述符而做了改进的poll,是linux<br>下多路复用IO接口select/poll 的增强版本,它能显著提高程序在大量并<br>发连接中只有少量活跃情况下的系统CPU利用率<br><li>epoll文件描述符用完后,需要用close关闭<br><li>每次添加/修改/删除文件描述符都要调用epoll_ctl,所以要尽量少地调用epoll_ctl<br><br></ul><p>epoll的系统调用函数<br>int epoll_create(int size)<br>//epoll_create用来创建一个epoll文件描述符,即epoll的句柄<br>//参数size指定epoll所支持的最大句柄数<br>//函数会返回一个新的epoll句柄,之后的所有操作将通过这个新句柄操作<br>//操作完之后,用close关闭epoll句柄<p>int epoll_ctl(int epfd,int op,int fd,struct epoll_event *event)<br>//epoll_ctl用来添加/修改/删除需要侦听的文件描述符及其事件<br>//参数epfd是epoll_create()的返回值<br>//参数op表示动作,用三个宏表示<br>EPOLL_CTL_ADD: 注册新的fd到epfd中<br>EPOLL_CTL_MOD: 修改已经注册到fd的监听事件<br>EPOLL_CTL_DEL: 从epfd中删除一个fd<br>//参数fd是要监听的socket描述符<br>//参数event通知内核需要监听什么事件,struct epoll_event结构如下<br>typedef union epoll_data<br>{<pre><code>void *ptr;
int fd;
__uint32_t u32;
__uint64_t u64;
</code></pre><p>}epoll_data_t;<p>struct epoll_event<br>{<pre><code>__unit32_t events;//Epoll events
epoll_data_t data;//User data variable
</code></pre><p>}<p>events定义:<ul><li>EPOLLIN:表示对应的文件描述符可以读(包括对端socket正常关闭)<br><li>EPOLLOUT:表示对应的文件描述符可以写<br><li>EPOLLPRI:表示对应的文件描述符有紧急数据可读<br><li>EPOLLERR:表示对应的文件描述符发生错误<br><li>EPOLLHUP:表示对应的文件描述符被挂断(是否被close)<br><li>EPOLLET:将EPOLL设为边缘触发(Edge Triggered)模式 ,这是相对于水平触发(Level Triggered)来说的<br><li>EPOLLONESHOT:只监听一次事件,当监听完这次事件之后,如果还需要继续监听这个socket的话,需要再次把<br>这个socket加入到EPOLL队列里<br><br></ul><p>关于ET,LT两种工作模式<br>LT(Level triggered)是缺省的工作方式,并且同时支持block和no-block socket<ul><li>在LT模式中,内核通知一个文件描述符是否就绪了,然后可以对这个就读的fd进行IO操作<br><li>如果你不做任何操作,内核还是会继续通知你的,所以,这种模式编程出错错误可能要小一点<br><br></ul><p>ET(Edge Triggered)是高速工作方式,只支持no-block socket<ul><li>在ET模式下,当描述符从未就绪变为就绪时,内核通过epoll告诉你<br><li>ET模式会假设你知道文件描述符已经就绪,并且不会再为那个文件<br>描述符发送更多的就绪通知,直到你做了某些操作导致那个文件为<br>就绪状态了<br><li>如果一直不对这个fd作IO操作(从而导致他再次变成未就绪),内核<br>不会发送更多通知<br><br></ul><p>ET和LT的区别:<ul><li>LT事件不会丢弃,而是只要读buffer里面有数据可以让用户读,则不断<br>的通知你<br><li>ET则只在世纪爱发生之时通知.可以简单理解为LT是水平触发,而ET是<br>边缘触发<br><li>LT模式只要有事件为处理就会触发,而ET则只在高低电平变换(即由0到1<br>,或由1到0)时才触发<br><br><br></ul><p>int epoll_wait(int epfd,struct epoll_event *events,int maxevents,int timeout)<br>//epoll_wait接受发生在侦听的描述符上,用户感兴趣的IO事件<br>//参数epfd是epoll_create()的返回值<br>//参数events一个epoll_events*指针,当epoll_wait这个函数操作成功之后,epoll_events里面将存储所有的读写事件<br>//参数maxevents是当前需要监听的所有socket句柄数<br>//参数timeout是epoll_wait的超时,为0的时候表示马上返回,为-1的时候一直等下去,直到有事件范围,正整数表示等这么长时间<br>//一般如果网络主循环是单独的线程的话,可以用-1来等,这样可以保证一些效率<br>//如果是和主逻辑在同一个线程的话,可以用0来保证主循环的效率<br>//epoll_wait范围之后应该是一个循环,遍历所有的事件<p>/<em>epoll例子</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <sys/types.h><br>#include <fcntl.h><br>#include <sys/epoll.h><p>int socket_create(int port)//在port指定端口上建立server端的socket<br>{<pre><code>int st = socket(AF_INET,SOCK_STREAM,0);
if (st == 0)
    return 0;

int on = 0;
if (setsockopt(st, SOL_SOCKET, SO_REUSEADDR, &amp;on, sizeof(on)) == -1)
{
    printf(&quot;setsockopt failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}

struct sockaddr_in addr;//定义一个IP地址结构
memset(&amp;addr, 0, sizeof(addr));
addr.sin_family = AF_INET;//将addr结构的属性定位为TCP/IP地址
addr.sin_port = htons(port);//将本地字节顺序转化为网络字节顺序。
addr.sin_addr.s_addr = htonl(INADDR_ANY);

//将IP与server程序绑定
if (bind(st, (struct sockaddr *) &amp;addr, sizeof(addr)) == -1)
{
    printf(&quot;bind failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}

//server端开始listen，
if (listen(st, 200) == -1)
{
    printf(&quot;listen failed %s\n&quot;, strerror(errno));
    return EXIT_FAILURE;
}

printf(&quot;listen %d success\n&quot;,port);
return st;
</code></pre><p>}<p>int socket_accept (int listen_st)<br>{<pre><code>struct sockaddr_in client_addr;
socklen_t len = sizeof(client_addr);
memset(&amp;client_addr, 0,sizeof(client_addr));
int client_st = accept(listen_st,(struct sockaddr *)&amp;client_addr,&amp;len);
if (client_st == -1)
{

    printf(&quot;accept failed %s\n&quot;,strerror(errno));
    return 0;
}
else
{
    printf(&quot;accept by %s\n&quot;,inet_ntoa(client_addr.sin_addr));
    return client_st;
}
</code></pre><p>}<p>ssize_t socket_recv(int st)<br>{<pre><code>char buf[1024];
memset(buf,0,sizeof(buf));
ssize_t rc = recv(st,buf,sizeof(buf),0);
if(rc &lt;= 0)
{
    printf(&quot;recv failed %s\n&quot;,strerror(errno));
}else
{
    printf(&quot;recv %s\n&quot;,buf);
    send(st,buf,rc,0);
}
return rc;
</code></pre><p>}<p>void setnonblocking(int st)<br>{<pre><code>int opts = fcntl(st,F_GETFL);
if(opts &lt; 0)
{
    printf(&quot;fcntl failed %s\n&quot;,strerror(errno));
}
opts = opts | O_NONBLOCK;
if(fcntl(st,F_SETFL,opts )&lt; 0)
{
    printf(&quot;fcntl failed %s\n&quot;,strerror(errno));
}
</code></pre><p>}<p>int main(int arg,char *args[])<br>{<pre><code>if(arg &lt; 2)
    return -1;
int iport = atoi(args[1]);
int listen_st = socket_create(iport);
if(listen_st == EXIT_FAILURE)
    return -1;

struct epoll_event ev,events[100];//声明epoll_event结构体的变量,ev用于注册事件,数组用于回传要处理的事件
int epfd = epoll_create(100);//生成用于处理accept的epoll专用文件描述符
setnonblocking(listen_st);//把socket设置为非阻塞方式
ev.data.fd = listen_st;//设置要与处理的事件相关的文件描述符
ev.events = EPOLLIN | EPOLLERR | EPOLLHUP;//设置要处理的事件类型
epoll_ctl(epfd,EPOLL_CTL_ADD,listen_st,&amp;ev);//注册epoll事件

int st = 0;
while(1)
{
    int nfds = epoll_wait(epfd,events,100,-1);//等待epoll事件发生
    if(nfds == -1)
    {
        printf(&quot;epoll_wait failed %s\n&quot;,strerror(errno)); 
        break;
    }
    //正式流程
    int i;
    for(i = 0;i &lt; nfds;i++)
    {
            if(events[i].data.fd &lt; 0)
                continue;

            //检测到一个socket用户连接到了绑定的socket端口,建立新连接
            if(events[i].data.fd == listen_st)
            {
                st = socket_accept(listen_st);
                if(st &gt;= 0)
                {
                    setnonblocking(st);
                    ev.data.fd = st;
                    ev.events = EPOLLIN | EPOLLERR | EPOLLHUP;//设置要处理的数据类型
                    epoll_ctl(epfd,EPOLL_CTL_ADD,st,&amp;ev);
                    continue;
                }
            }

            //client有socket事件到达
            if(events[i].events &amp; EPOLLIN)//socket收到数据
            {
                st = events[i].data.fd;
                if(socket_recv(st) &lt;= 0)
                {
                    close(st);
                    events[i].data.fd = -1;
                }
            }

            if(events[i].events &amp; EPOLLERR)//socket错误
            {
                st = events[i].data.fd;
                close(st);
                events[i].data.fd = -1;
            }

            if(events[i].events &amp; EPOLLHUP)//socket关闭
            {
                st = events[i].data.fd;
                close(st);
                events[i].data.fd = -1;
            }
    }
}
close(epfd);
return 0;
</code></pre><p>}<p>5)select技术<br>int select(int nfds, fd_set *readfds, fd_set *writefds,<pre><code>              fd_set *exceptfds, struct timeval *timeout);
</code></pre><p>//参数timeout填NULL,永远等待<br>//select函数使用方法<br>fd_set fd1;<br>FD_ZERO(&amp;fd1);//初始化fd1<p>int socket;<br>FD_SET(socket, &amp;fd1);//将socket添加到fd1<br>FD_CLR(socket, &amp;fd1);//将socket从fd1移除.<p>FD_ISSET(socket, &amp;fd1);//判断socket是不是在fd1当中<p>The time structures involved are defined in <sys/time.h>and look like<pre><code>       struct timeval {
           long    tv_sec;         /* seconds */
           long    tv_usec;        /* microseconds */
       };

   and

       struct timespec {
           long    tv_sec;         /* seconds */
           long    tv_nsec;        /* nanoseconds */
       };
</code></pre><p>/<em>select例子</em>/<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <unistd.h><br>#include <errno.h><br>#include <sys/types.h><br>#include <sys/socket.h><br>#include <netinet/in.h><br>#include <arpa/inet.h><br>#include <sys/types.h><br>#include <fcntl.h><br>#include <sys/select.h><p>#define FD_MAX 1024<br>int main(int arg,char *args[])<br>{<pre><code>if(arg &lt; 2)
    return -1;
int iport = atoi(args[1]);
int listen_st = socket_create(iport);//建立一个listen socket
if(listen_st == 0)
    return -1;

setnonblocking(listen_st); //把socket设置为非阻塞方式

int i = 0;
int maxfd = 0; //最大的socket,select函数的第一个参数使用
int sockfd = -1;

int client[FD_MAX]; //建立一个socket池,最大存放1024个socket
for(i = 0;i &lt; FD_MAX; i++)
{
    client[i] = -1;//将socket池中的每一个成员都初始化为-1
}

maxfd = listen_st;//设置最大编号socket
fd_set allset;

int client_st = -1;
while(1)
{
    FD_ZERO(&amp;allset); //初始化allset
    FD_SET(listen_st,&amp;allset); //将listen_st放入allset结构中
    maxfd = listen_st;
    for(i = 0;i &lt; FD_MAX; i++)
    {
        if(client[i] != -1)
        {
            FD_SET(client[i],&amp;allset);
            if(client[i] &gt; maxfd)
                maxfd = client[i];//maxfd永远大于最大的sock
        }
    }

    int rc = select(maxfd + 1,&amp;allset,NULL,NULL,NULL);
    if(FD_ISSET(listen_st,&amp;allset))//判断集合中的listen_st描述符是否有的消息到达,代表有client连接
    {
        client_st = socket_accept(listen_st);
        if(client_st &gt;= 0)
        {
            setnonblocking(client_st);

            for(i = 0;i &lt; FD_MAX;i++)
            {
                if(client[i] == -1)
                {
                    client[i] == client_st;//找到client[]数组中空闲的位置,插入当前client_st
                    break;
                }   

            }

            if(i == FD_MAX)
            {
                close(client_st); //限制超过FD_MAX,断掉
            }

            rc--; //处理完一个socket,就将select返回的总数减1

            if(rc &lt;= 0)
            {
                continue;//没有更多的socket可以处理
            }
        }else
        {
            break;//如果accept失败,跳出
        }
    }

    for(i = 0,i &lt; FD_MAX; i++)
    {
        sockfd = client[i];
        if(sockfd == -1)
        {
            continue;
        }

        if(FD_ISSET(sockfd,&amp;allset))
        {
            if(socket_recv(sockfd) &lt;= 0)//调用socket_recv接收数据
            {
                close(sockfd);
                //FD_CLR(sockfd,&amp;allset);//将该socket移除
                client[i] = -1;
            }
            rc--;//处理完一个socket,就将select返回的总数减1
        }

        if(rc &lt; 0)
        {
            break;//已经没有更多的socket可以创建了,循环break
        }
    }               
}

close(listen_st);
return 0;   
</code></pre><p>}<p>五 特殊问题<br>1)如何将struct sockaddr_in转化为IP地址?<br>const char* getIPAddrbyaddr_in(struct sockaddr_in *client_addr)<br>{<pre><code>return inet_ntoa(client_addr-&gt;sin_addr);
</code></pre><p>}<p>void sockaddr_toa(const struct sockaddr_in *addr,char * IPAddr)<br>{<pre><code>unsigned char *p = (unsigned char *)&amp;(addr-&gt;sin_addr.s_addr);
sprintf(IPAddr,&quot;%u,%u,%u,%u&quot;,p[0],p[1],p[2],p[3]);
</code></pre><p>}<p>2)如何将域名转化为IP<br>const char *getIPAddrbyHostname(const char * hostname)<br>{<pre><code>static char  s[128];
memset(s,0,sizeof(s));
struct hostent *h;
h = gethostbyname(hostname);
strcpy(s, inet_ntoa(*((struct in_addr*)h-&gt;h_addr)));
return s;
</code></pre><p>}<p>3)如何得到一个socket自身addr,和远程的addr<br>int getpeername(int sockfd, struct sockaddr * addr, socklen_t *addrlen);<br>//得到远端sockaddr<p>int getsockname(int sockfd, struct sockaddr * addr, socklen_t *addrlen);<br>//得到自身sockaddr<p>六 抓包<br>/<em>pub.h</em>/<br>#pragma once<br>#include <stdio.h><br>#include <stdlib.h><br>#include <string.h><br>#include <wtypes.h><p>// 定义协议的名称结构<br>typedef struct _PROTN2T<br>{<pre><code>int proto;  
char *pprototext;  
</code></pre><p>} PROTN2T;<p>// 协议数<br>#define PROTO_NUM 11<p>// IP头结构<br>typedef struct _IPHEADER<br>{<pre><code>unsigned char header_len:4;// 头长度，4个位长  
unsigned char version:4;// 版本号，4个位长  
unsigned char tos;// 服务类型（主要定义包的优先级）  
unsigned short total_len;// 包整个长度的字节数  
unsigned short ident;// 标识，由于IP包发送时候在网络传送时可能还要分割为更小的包，标识唯一确定每个发送的数据包  
unsigned short flags;// 综合标志位（前3位：标志，后13位：分块偏移，用来重组分割的IP数据包）  
unsigned char ttl;// 生存时间，代表网络上的存活寿命  
unsigned char proto;// 协议  
unsigned short checksum;// 头校验和，该位确保目的主机接收数据和发送数据的相同  
unsigned int sourceIP;// 源IP  
unsigned int destIP;// 目的IP  
</code></pre><p>} IPHEADER;<p>// UDP头长度<br>#define UDP_HEAD_LEN 8<br>#define PSEUDO_HEAD_LEN 12<p>// ICMP头长度<br>#define ICMP_HEAD_LEN 8<p>struct TCPPacketHead<br>{<pre><code>WORD SourPort;// 16位源端口  
WORD DesPort;// 16目的端口  
DWORD SeqMo;// 32位序列号，指出了TCP段数据区其实数据位置  
DWORD AckNo;// 32位确认号，指出连接期望从数据流中接收的下一字节数据，例如：如果收到最后一个字节序号为630，那么TCP将发一个为631的确认号  
BYTE HLen;// 头长度  
BYTE FLag;// 标识位，紧急（URG），确认（ACK），推送（PSH），重置（RST），同步（SYN），完成（FIN）   
WORD WndSize;// 16位窗口大小  
WORD ChkSum;// 16位TCP校验和  
WORD UrgPtr;// 16位紧急指针  
</code></pre><p>};<p>// ICMP包头部结构<br>struct ICMPPacketHead<br>{<pre><code>BYTE Type;// 类型  
BYTE Code;// 编码  
WORD ChkSum;// 16位TCP校验和  
</code></pre><p>};<p>// UDP包头结构<br>struct UDPPacketHead<br>{<pre><code>WORD SourcePort;// 源端口  
WORD DestPort;// 目的端口  
WORD Len;// 消息包长度  
WORD ChkSum;// 16位TCP校验和  
</code></pre><p>};<p>int SnifferReceive(SOCKET &amp;sock, bool ShowByte = false);<p>int SocketCreate(SOCKET &amp;sock, const char *IPAddr, unsigned short Port);<p>/<em>pub.cpp</em>/<br>#pragma once<br>#include &quot;stdafx.h&quot;<br>#include <winsock2.h><br>#include <mstcpip.h><br>#include &quot;pub.h&quot;<p>#pragma comment(lib,&quot;ws2_32.lib&quot;)<p>char *Get_proto_name(unsigned char proto)// 通过struct _PROTN2T结构的proto成员，得到协议名<br>{<pre><code>switch (proto)  
{  
case IPPROTO_IP:  
    return &quot;IP&quot;;  
case IPPROTO_ICMP:  
    return &quot;ICMP&quot;;  
case IPPROTO_IGMP:  
    return &quot;IGMP&quot;;  
case IPPROTO_GGP:  
    return &quot;GGP&quot;;  
case IPPROTO_TCP:  
    return &quot;TCP&quot;;  
case IPPROTO_PUP:  
    return &quot;PUP&quot;;  
case IPPROTO_UDP:  
    return &quot;UDP&quot;;  
case IPPROTO_IDP:  
    return &quot;IDP&quot;;  
case IPPROTO_ND:  
    return &quot;ND&quot;;  
case IPPROTO_RAW:  
    return &quot;RAW&quot;;  
case IPPROTO_MAX:  
    return &quot;MAX&quot;;  
default:  
    return &quot;UNKNOW&quot;;  
}  
</code></pre><p>}<p>void PrintByte(const char *Buf, size_t BufSize)// 将二进制数转化为16进制字符串，打印到屏幕上<br>{<pre><code>for (size_t i = 0; i &lt; BufSize; i++)  
{  
    printf(&quot;%.2x&quot;, (unsigned char)Buf[i]);  

    /*  
    if ((i % 8) == 7) 
    { 
        printf(&quot; &quot;); 
    } 
    if ((i % 16) == 15) 
    { 
        printf(&quot;\n&quot;) 
    }*/  
}  
</code></pre><p>}<p>int SnifferReceive(SOCKET &amp;sock, bool ShowByte)<br>{<pre><code>IPHEADER *ipHeader = NULL;  
TCPPacketHead *tcpHeader = NULL;  
ICMPPacketHead *icmpHeader = NULL;  
UDPPacketHead *udpHeader = NULL;  
BYTE *pData = NULL; // 存放数据的buf  
char *pLastBuf = NULL;// 最后一个buf  

WORD wSrcPort, wDestPort;// 源端口和目的端口  
char sSrcIPAddr[32], sDestIPAddr[32], sProtoName[32];  
memset(sSrcIPAddr, 0, sizeof(sSrcIPAddr));  
memset(sDestIPAddr, 0, sizeof(sDestIPAddr));  
memset(sProtoName, 0, sizeof(sProtoName));  
in_addr inaddr;  

char sBuf[8192];// Socket默认的Buffer位8K  
char *pBuf = sBuf;  
memset(sBuf, 0, sizeof(sBuf));  
int iRes = recv(sock, sBuf, sizeof(sBuf), 0);  
if (iRes == SOCKET_ERROR)  
{  
    return WSAGetLastError();  
}  

// 得到IP包头  
ipHeader = (IPHEADER *)pBuf;  

// 得到IP包头总长度  
WORD iLen = ntohs(ipHeader-&gt;total_len);  

while (true)  
{  
    if (iLen &lt;= iRes)  
    {  
        // 得到IP包的源地址  
        inaddr.S_un.S_addr = ipHeader-&gt;sourceIP;  
        strcpy(sSrcIPAddr, inet_ntoa(inaddr));  

        // 得到IP包的目的地址  
        inaddr.S_un.S_addr = ipHeader-&gt;destIP;  
        strcpy(sDestIPAddr, inet_ntoa(inaddr));  

        // 得到包的协议名称  
        strcpy(sProtoName, Get_proto_name(ipHeader-&gt;proto));  

        // 得到IP包头的长度（因为header_len为4比特的数据，所以需要这样计算）  
        int iHdrLen = ipHeader-&gt;header_len &amp; 0xf;  
        iHdrLen *= 4;  
        // 总长度减包头长度得到的数据的长度  
        int iTotalLen = ntohs(ipHeader-&gt;total_len);  
        iTotalLen -= iHdrLen;  

        switch (ipHeader-&gt;proto)  
        {  
        case  IPPROTO_ICMP:  
            {  
                icmpHeader = (ICMPPacketHead *)(sBuf + iHdrLen);  

                pData = ((BYTE*)icmpHeader) + ICMP_HEAD_LEN;  
                iTotalLen -= ICMP_HEAD_LEN;  
            }  
        case IPPROTO_TCP:  
            {  
                tcpHeader = (TCPPacketHead *)(sBuf + iHdrLen);  
                // 得到源端口  
                wSrcPort = ntohs(tcpHeader-&gt;SourPort);  
                // 得到目标端口  
                wDestPort = ntohs(tcpHeader-&gt;DesPort);  
                iHdrLen = tcpHeader-&gt;HLen &gt;&gt; 4;  
                iHdrLen *= 4;  
                pData = ((BYTE *)tcpHeader) + iHdrLen;  
                iTotalLen -= iHdrLen;  
                break;  
            }  
        case IPPROTO_UDP:  
            {  
                udpHeader = (UDPPacketHead *)(&amp;sBuf[iHdrLen]);  
                // 得到源端口  
                wSrcPort = ntohs(udpHeader-&gt;SourcePort);  
                // 得到目标端口  
                wDestPort = ntohs(udpHeader-&gt;DestPort);  
                pData = ((BYTE *)udpHeader) + UDP_HEAD_LEN;  
                iTotalLen -= UDP_HEAD_LEN;  
                break;  
            }  
        }  

        static unsigned int iSequence = 0;  
        iSequence++;  

        /* 
        Internet 组管理协议（IGMP）是因特网协议家族中的一个组播协议，用于IP主机向人一个相邻的 
        路由器报告他们的组成员情况 
        */  
        if (strcmp(sProtoName, &quot;IGMP&quot;) != 0)// 如果是IGMP协议，就补打印协议内容  
        {  
            // 过滤掉广播消息  
            if (strncmp(sDestIPAddr, &quot;192.168.0.255&quot;, strlen(&quot;192.168.0.255&quot;)) != 0)  
            {  
                printf(&quot;------------------begin %.10u------------------\n&quot;, iSequence);  
                printf(&quot;ProtoName:%s\nSrcAddr:%s\nDestAddr:%s\nSrcPort:%d\nDestPort:%d\n&quot;,  
                    sProtoName, sSrcIPAddr, sDestIPAddr, wSrcPort, wDestPort);  
                if (ShowByte)  
                {  
                    printf(&quot;Byte:\n&quot;);  
                    PrintByte((char*)pData, iTotalLen);  
                }  
                printf(&quot;\nASCII:\n%s\n&quot;, (char *)pData);  
            }  
        }  
        //printf(&quot;------------------end %d.10u------------------\n\n&quot;, iSequence);  

        if (iLen &lt; iRes)  
        {  
            iRes -= iLen;  
            pBuf += iLen;  
            ipHeader = (IPHEADER *)pBuf;  
        }  
        else  
        {  
            break;// 如果ipHeader-&gt;total_len == iRes则退出  
        }  
    }  
    else// 已经读到的buffer的最后部分，即包的长度  
    {  
        int iLast = iLen - iRes;  
        if (pLastBuf)  
            delete []pLastBuf;  
        pLastBuf = new char[iLen];  
        int iReaden = iRes;  
        memcpy(pLastBuf, pBuf, iReaden);  
        iRes = recv(sock, pLastBuf + iReaden, iLast, 0);  
        if (iRes == SOCKET_ERROR)  
            return WSAGetLastError();  

        pBuf = pLastBuf;  
        ipHeader = (IPHEADER *)pBuf;  
        if (iRes == iLast)  
            iRes = iLen;  
        else  
        {  
            // 读剩余所有的数据  
            iReaden += iRes;  
            iLast -= iRes;  
            while (true)  
            {  
                iRes = recv(sock, pLastBuf + iReaden, iLast, 0);  
                if (iRes == SOCKET_ERROR)  
                    return WSAGetLastError();  

                iReaden += iRes;  
                iLast -= iRes;  
                if (iLast &lt;= 0)  
                    break;  
            }  
        }  
    }  
}  
return 0;  
</code></pre><p>}<p>// 指定的IP地址和端口上，建立一个原始的socket。<br>int SocketCreate(SOCKET &amp;sock, const char *IPAddr, unsigned short Port)<br>{<pre><code>// 初始化win socket环境  
unsigned short wVersion;  
WSADATA wsaData;  
wVersion = MAKEWORD(1, 1);  
int iRes = WSAStartup(wVersion, &amp;wsaData);  
if (iRes != 0)  
    return iRes;  

// 创建原始的socket  
sock = socket(AF_INET, SOCK_RAW, IPPROTO_IP);  
if (sock == INVALID_SOCKET)  
    return WSAGetLastError();  

// 设置超时选项  
int iRecTime = 50000; // 50秒，设置接收超时  
if (setsockopt(sock, SOL_SOCKET, SO_RCVTIMEO, (const char *)&amp;iRecTime, sizeof(iRecTime)) == SOCKET_ERROR)  
    return WSAGetLastError();  

// 将socket bind到一个具体的断口和地址  
sockaddr_in addr;  
addr.sin_family = AF_INET;  
addr.sin_port = htons(Port);  
addr.sin_addr.s_addr = inet_addr(IPAddr);  

if (bind(sock, (LPSOCKADDR)&amp;addr, sizeof(addr)) == SOCKET_ERROR)  
{  
    return WSAGetLastError();  
}  

// 设置socket模式，当调用WSAIoctl函数的时候为了能让socket能接收网络的所有IP包，  
// 传给WSAIoctl函数的socket句柄必须设置成AF_INET， SOCK_RAW，和IPPROTO_IP协议，而且  
// 这个socket必须显示的bind到本地的一个端口和地址  
DWORD dwBufferInLen = 1;  
DWORD dwBufferLen[10];  
DWORD dwBytesReturned = 0;  

// 调用WSAIoctl， 设置socket可以接收所有的IP包  
if (WSAIoctl(sock, SIO_RCVALL, &amp;dwBufferInLen, sizeof(dwBufferInLen),  
    &amp;dwBufferLen, sizeof(dwBufferLen), &amp;dwBytesReturned, NULL, NULL) == SOCKET_ERROR)  
{  
    return WSAGetLastError();  
}  
return 0;  
</code></pre><p>}<p>/<em>sniffer.cpp</em>/<br>// sinffer.cpp : 定义控制台应用程序的入口点。<br>//<p>#include &quot;stdafx.h&quot;<br>#include &quot;pub.h&quot;<p>int main(int argc, char* argv[])<br>{<pre><code>if (argc &lt; 3)  
{  
    printf(&quot;usage: %s IPAddress port [byte]\n&quot;, argv[0]);  
    return 0;  
}  

printf(&quot;sniffer\\nauthor: xhf by 2016-7-15\\nversion is 1.0.0\n\n&quot;);  

SOCKET sock;  
int iPort = atoi(argv[2]);  
int iRes = SocketCreate(sock, argv[1], (unsigned short)iPort);  
if (iRes != 0)  
{  
    LPVOID lpMsgBuf;  
    FormatMessage(  
        FORMAT_MESSAGE_ALLOCATE_BUFFER |  
        FORMAT_MESSAGE_FROM_SYSTEM |  
        FORMAT_MESSAGE_IGNORE_INSERTS,  
        NULL,  
        iRes, // 这个地方放的是lasterror的返回值  
        MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),  
        (LPTSTR)&amp;lpMsgBuf,  
        0,  
        NULL  
        );  
    printf(&quot;Error:%d %s\n&quot;, iRes, (LPCTSTR)lpMsgBuf);  
    LocalFree(lpMsgBuf);  
    return -1;  
}  

while (true)  
{  
    if (argc ==4)  
    {  
        iRes = SnifferReceive(sock, true);  
    }  
    else  
    {  
        iRes = SnifferReceive(sock);  
    }  

    if (iRes != 0)  
    {  
        LPVOID lpMsgBuf;  
        FormatMessage(  
            FORMAT_MESSAGE_ALLOCATE_BUFFER |  
            FORMAT_MESSAGE_FROM_SYSTEM |  
            FORMAT_MESSAGE_IGNORE_INSERTS,  
            NULL,  
            iRes, // 这个地方放的是lasterror的返回值  
            MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),  
            (LPTSTR)&amp;lpMsgBuf,  
            0,  
            NULL  
            );  
    }  
}  

return 0;  
</code></pre><p>}</div><div class=clear></div></div></div></article><div class=clear></div><p class=post-tags><span class="fa fa-tags">Tags:</span>
<a rel=tag href=../../../tags/linux-system>linux-system</a><div id=related-posts><div class=related-inner></div></div><section id=comments class=themeform></section><section id=comments class=themeform></section></div></div><div class="sidebar s1 collapsed" data-position=left data-layout=col-3cm data-sb-id=s1><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>Follow:<ul class=social-links><li><a class=social-tooltip href=mailto: title=Email><i class="fa fa-envelope"></i></a><li><a class=social-tooltip href=//github.com/ title=GitHub><i class="fa fa-github"></i></a><li><a class=social-tooltip title="RSS Feed" aria-label="RSS Feed" href=../../../feed target=_blank style=color:#ffffffb2><i class="fa fa-rss"></i></a></ul></div><ul class="post-nav group"><li class=previous><a href=../../../language/linux-system/linux-system-thread/ rel=prev><i class="fa fa-chevron-left"></i><strong>Previous Post</strong>
<span>linux system thread</span></a></ul><div id=categories-2 class="widget widget_categories"><h3>分类</h3><ul><li class="cat-item cat-item-1"><a href=../../../categories/ai/>Ai</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/algorithm/>Algorithm</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/android/>Android</a>
<small>(17)</small><li class="cat-item cat-item-1"><a href=../../../categories/ansible/>Ansible</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/beats/>Beats</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/busybox/>Busybox</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/caffe/>Caffe</a>
<small>(21)</small><li class="cat-item cat-item-1"><a href=../../../categories/cgo/>Cgo</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/clang/>Clang</a>
<small>(40)</small><li class="cat-item cat-item-1"><a href=../../../categories/cmd/>Cmd</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/cpp/>Cpp</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/cross_compile/>Cross_compile</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/css/>Css</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/dart/>Dart</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/database/>Database</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/dataset/>Dataset</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/deeplearning/>Deeplearning</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/devops/>Devops</a>
<small>(70)</small><li class="cat-item cat-item-1"><a href=../../../categories/docker/>Docker</a>
<small>(18)</small><li class="cat-item cat-item-1"><a href=../../../categories/dts/>Dts</a>
<small>(5)</small><li class="cat-item cat-item-1"><a href=../../../categories/elasticsearch/>Elasticsearch</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/english/>English</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/freertos/>Freertos</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/front-end/>Front-End</a>
<small>(20)</small><li class="cat-item cat-item-1"><a href=../../../categories/golang/>Golang</a>
<small>(136)</small><li class="cat-item cat-item-1"><a href=../../../categories/hacker/>Hacker</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hardware/>Hardware</a>
<small>(22)</small><li class="cat-item cat-item-1"><a href=../../../categories/hi3519a/>Hi3519a</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/hi3559/>Hi3559</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hisi/>Hisi</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/hisilicon/>Hisilicon</a>
<small>(57)</small><li class="cat-item cat-item-1"><a href=../../../categories/jetson/>Jetson</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/js/>Js</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/jumpserver/>Jumpserver</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/kernel/>Kernel</a>
<small>(15)</small><li class="cat-item cat-item-1"><a href=../../../categories/libev/>Libev</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/linux/>Linux</a>
<small>(94)</small><li class="cat-item cat-item-1"><a href=../../../categories/linux-system/>Linux-System</a>
<small>(8)</small><li class="cat-item cat-item-1"><a href=../../../categories/linux-%E5%91%BD%E4%BB%A4/>Linux-命令</a>
<small>(120)</small><li class="cat-item cat-item-1"><a href=../../../categories/mac/>Mac</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/machinelearn/>Machinelearn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/machinelearning/>Machinelearning</a>
<small>(11)</small><li class="cat-item cat-item-1"><a href=../../../categories/macos/>Macos</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../categories/math/>Math</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/matplotlib/>Matplotlib</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/mpp/>Mpp</a>
<small>(12)</small><li class="cat-item cat-item-1"><a href=../../../categories/mysql/>Mysql</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/ncnn/>Ncnn</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/network/>Network</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/nginx/>Nginx</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/nnie/>Nnie</a>
<small>(13)</small><li class="cat-item cat-item-1"><a href=../../../categories/node/>Node</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/numpy/>Numpy</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/opencpu/>Opencpu</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/opencv/>Opencv</a>
<small>(10)</small><li class="cat-item cat-item-1"><a href=../../../categories/pandas/>Pandas</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/platform/>Platform</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/post/>Post</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/pyqt/>Pyqt</a>
<small>(8)</small><li class="cat-item cat-item-1"><a href=../../../categories/python/>Python</a>
<small>(31)</small><li class="cat-item cat-item-1"><a href=../../../categories/pytorch/>Pytorch</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../categories/raspi/>Raspi</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/rk3288/>Rk3288</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../categories/rk3399/>Rk3399</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/rtmp/>Rtmp</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/scikit/>Scikit</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/shell/>Shell</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/socket/>Socket</a>
<small>(5)</small><li class="cat-item cat-item-1"><a href=../../../categories/stm32/>Stm32</a>
<small>(6)</small><li class="cat-item cat-item-1"><a href=../../../categories/stm8/>Stm8</a>
<small>(9)</small><li class="cat-item cat-item-1"><a href=../../../categories/weixin/>Weixin</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/windows/>Windows</a>
<small>(22)</small><li class="cat-item cat-item-1"><a href=../../../categories/work/>Work</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/yolo/>Yolo</a>
<small>(16)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/>前端技术</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%8D%8F%E8%AE%AE/>协议</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/>嵌入式</a>
<small>(23)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B7%A5%E5%85%B7/>工具</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/>常用算法</a>
<small>(2)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/>微服务</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/>排列组合</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库</a>
<small>(37)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/>文本编辑</a>
<small>(30)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/>正则表达式</a>
<small>(3)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%94%9F%E6%B4%BB%E6%8A%80%E5%B7%A7/>生活技巧</a>
<small>(4)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%A8%8B%E5%BA%8F%E5%91%98/>程序员</a>
<small>(1)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/>网络安全</a>
<small>(40)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7/>集群监控</a>
<small>(7)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/>静态博客</a>
<small>(15)</small><li class="cat-item cat-item-1"><a href=../../../categories/%E9%AB%98%E6%95%B0/>高数</a>
<small>(2)</small></ul></div></div></div><div class="sidebar s2 collapsed" data-position=right data-layout=col-3cm data-sb-id=s2><a class=sidebar-toggle title="Expand Sidebar"><i class="fas icon-sidebar-toggle"></i></a><div class=sidebar-content><div class="sidebar-top group"><p>More</div><ul class="post-nav group"><li class=next><a href=../../../language/linux-system/linux-system-io/ rel=next><i class="fa fa-chevron-right"></i><strong>Next post</strong>
<span>linux system io</span></a></ul><div id=tag_cloud-2 class="widget widget_tag_cloud"><h3>标签云</h3><div class="tagcloud post-tags"><a rel=tag href=../../../tags/ai/ class=tag-link-7 title="1 Posts">ai<small>(7)</small></a>
<a rel=tag href=../../../tags/ansible/ class=tag-link-19 title="1 Posts">ansible<small>(19)</small></a>
<a rel=tag href=../../../tags/awesome/ class=tag-link-3 title="1 Posts">awesome<small>(3)</small></a>
<a rel=tag href=../../../tags/bfc/ class=tag-link-2 title="1 Posts">bfc<small>(2)</small></a>
<a rel=tag href=../../../tags/c/ class=tag-link-5 title="1 Posts">c<small>(5)</small></a>
<a rel=tag href=../../../tags/caffe/ class=tag-link-21 title="1 Posts">caffe<small>(21)</small></a>
<a rel=tag href=../../../tags/centos7/ class=tag-link-2 title="1 Posts">centos7<small>(2)</small></a>
<a rel=tag href=../../../tags/cgo/ class=tag-link-10 title="1 Posts">cgo<small>(10)</small></a>
<a rel=tag href=../../../tags/clang/ class=tag-link-40 title="1 Posts">clang<small>(40)</small></a>
<a rel=tag href=../../../tags/cmd/ class=tag-link-2 title="1 Posts">cmd<small>(2)</small></a>
<a rel=tag href=../../../tags/cpp/ class=tag-link-7 title="1 Posts">cpp<small>(7)</small></a>
<a rel=tag href=../../../tags/cross_compile/ class=tag-link-9 title="1 Posts">cross_compile<small>(9)</small></a>
<a rel=tag href=../../../tags/css/ class=tag-link-20 title="1 Posts">css<small>(20)</small></a>
<a rel=tag href=../../../tags/css3/ class=tag-link-2 title="1 Posts">css3<small>(2)</small></a>
<a rel=tag href=../../../tags/curd/ class=tag-link-3 title="1 Posts">curd<small>(3)</small></a>
<a rel=tag href=../../../tags/curl/ class=tag-link-2 title="1 Posts">curl<small>(2)</small></a>
<a rel=tag href=../../../tags/dataset/ class=tag-link-2 title="1 Posts">dataset<small>(2)</small></a>
<a rel=tag href=../../../tags/devops/ class=tag-link-3 title="1 Posts">devops<small>(3)</small></a>
<a rel=tag href=../../../tags/docker/ class=tag-link-21 title="1 Posts">docker<small>(21)</small></a>
<a rel=tag href=../../../tags/drone/ class=tag-link-22 title="1 Posts">drone<small>(22)</small></a>
<a rel=tag href=../../../tags/dts/ class=tag-link-6 title="1 Posts">dts<small>(6)</small></a>
<a rel=tag href=../../../tags/elasticsearch/ class=tag-link-9 title="1 Posts">elasticsearch<small>(9)</small></a>
<a rel=tag href=../../../tags/emacs/ class=tag-link-12 title="1 Posts">emacs<small>(12)</small></a>
<a rel=tag href=../../../tags/encode/ class=tag-link-3 title="1 Posts">encode<small>(3)</small></a>
<a rel=tag href=../../../tags/english/ class=tag-link-8 title="1 Posts">english<small>(8)</small></a>
<a rel=tag href=../../../tags/es6/ class=tag-link-2 title="1 Posts">es6<small>(2)</small></a>
<a rel=tag href=../../../tags/etcd/ class=tag-link-4 title="1 Posts">etcd<small>(4)</small></a>
<a rel=tag href=../../../tags/flannel/ class=tag-link-2 title="1 Posts">flannel<small>(2)</small></a>
<a rel=tag href=../../../tags/git/ class=tag-link-6 title="1 Posts">git<small>(6)</small></a>
<a rel=tag href=../../../tags/github/ class=tag-link-2 title="1 Posts">github<small>(2)</small></a>
<a rel=tag href=../../../tags/golang/ class=tag-link-150 title="1 Posts">golang<small>(150)</small></a>
<a rel=tag href=../../../tags/gradle/ class=tag-link-3 title="1 Posts">gradle<small>(3)</small></a>
<a rel=tag href=../../../tags/haproxy/ class=tag-link-5 title="1 Posts">haproxy<small>(5)</small></a>
<a rel=tag href=../../../tags/hardware/ class=tag-link-22 title="1 Posts">hardware<small>(22)</small></a>
<a rel=tag href=../../../tags/hexo/ class=tag-link-3 title="1 Posts">hexo<small>(3)</small></a>
<a rel=tag href=../../../tags/hi3519a/ class=tag-link-4 title="1 Posts">hi3519a<small>(4)</small></a>
<a rel=tag href=../../../tags/hisilicon/ class=tag-link-57 title="1 Posts">hisilicon<small>(57)</small></a>
<a rel=tag href=../../../tags/html/ class=tag-link-2 title="1 Posts">html<small>(2)</small></a>
<a rel=tag href=../../../tags/http/ class=tag-link-6 title="1 Posts">http<small>(6)</small></a>
<a rel=tag href=../../../tags/hugo/ class=tag-link-14 title="1 Posts">hugo<small>(14)</small></a>
<a rel=tag href=../../../tags/imagemagick/ class=tag-link-2 title="1 Posts">imagemagick<small>(2)</small></a>
<a rel=tag href=../../../tags/ip/ class=tag-link-3 title="1 Posts">ip<small>(3)</small></a>
<a rel=tag href=../../../tags/iproute2/ class=tag-link-5 title="1 Posts">iproute2<small>(5)</small></a>
<a rel=tag href=../../../tags/iptables/ class=tag-link-17 title="1 Posts">iptables<small>(17)</small></a>
<a rel=tag href=../../../tags/javascript/ class=tag-link-19 title="1 Posts">javascript<small>(19)</small></a>
<a rel=tag href=../../../tags/jetson/ class=tag-link-3 title="1 Posts">jetson<small>(3)</small></a>
<a rel=tag href=../../../tags/jquery/ class=tag-link-12 title="1 Posts">jquery<small>(12)</small></a>
<a rel=tag href=../../../tags/js/ class=tag-link-10 title="1 Posts">js<small>(10)</small></a>
<a rel=tag href=../../../tags/jumpserver/ class=tag-link-2 title="1 Posts">jumpserver<small>(2)</small></a>
<a rel=tag href=../../../tags/jwt/ class=tag-link-3 title="1 Posts">jwt<small>(3)</small></a>
<a rel=tag href=../../../tags/kernel/ class=tag-link-15 title="1 Posts">kernel<small>(15)</small></a>
<a rel=tag href=../../../tags/kubernetes/ class=tag-link-11 title="1 Posts">kubernetes<small>(11)</small></a>
<a rel=tag href=../../../tags/libev/ class=tag-link-2 title="1 Posts">libev<small>(2)</small></a>
<a rel=tag href=../../../tags/linux/ class=tag-link-22 title="1 Posts">linux<small>(22)</small></a>
<a rel=tag href=../../../tags/linux-system/ class=tag-link-8 title="1 Posts">linux-system<small>(8)</small></a>
<a rel=tag href=../../../tags/lvs/ class=tag-link-8 title="1 Posts">lvs<small>(8)</small></a>
<a rel=tag href=../../../tags/machinelearn/ class=tag-link-3 title="1 Posts">machinelearn<small>(3)</small></a>
<a rel=tag href=../../../tags/machinelearning/ class=tag-link-11 title="1 Posts">machinelearning<small>(11)</small></a>
<a rel=tag href=../../../tags/macos/ class=tag-link-14 title="1 Posts">macos<small>(14)</small></a>
<a rel=tag href=../../../tags/makefile/ class=tag-link-2 title="1 Posts">makefile<small>(2)</small></a>
<a rel=tag href=../../../tags/mariadb/ class=tag-link-9 title="1 Posts">mariadb<small>(9)</small></a>
<a rel=tag href=../../../tags/math/ class=tag-link-7 title="1 Posts">math<small>(7)</small></a>
<a rel=tag href=../../../tags/matplotlib/ class=tag-link-3 title="1 Posts">matplotlib<small>(3)</small></a>
<a rel=tag href=../../../tags/maven/ class=tag-link-2 title="1 Posts">maven<small>(2)</small></a>
<a rel=tag href=../../../tags/meteor/ class=tag-link-7 title="1 Posts">meteor<small>(7)</small></a>
<a rel=tag href=../../../tags/ml/ class=tag-link-3 title="1 Posts">ml<small>(3)</small></a>
<a rel=tag href=../../../tags/mpp/ class=tag-link-12 title="1 Posts">mpp<small>(12)</small></a>
<a rel=tag href=../../../tags/mysql/ class=tag-link-61 title="1 Posts">mysql<small>(61)</small></a>
<a rel=tag href=../../../tags/ncnn/ class=tag-link-3 title="1 Posts">ncnn<small>(3)</small></a>
<a rel=tag href=../../../tags/netns/ class=tag-link-2 title="1 Posts">netns<small>(2)</small></a>
<a rel=tag href=../../../tags/network/ class=tag-link-2 title="1 Posts">network<small>(2)</small></a>
<a rel=tag href=../../../tags/nginx/ class=tag-link-28 title="1 Posts">nginx<small>(28)</small></a>
<a rel=tag href=../../../tags/nmap/ class=tag-link-2 title="1 Posts">nmap<small>(2)</small></a>
<a rel=tag href=../../../tags/nnie/ class=tag-link-13 title="1 Posts">nnie<small>(13)</small></a>
<a rel=tag href=../../../tags/node/ class=tag-link-4 title="1 Posts">node<small>(4)</small></a>
<a rel=tag href=../../../tags/nosql/ class=tag-link-8 title="1 Posts">nosql<small>(8)</small></a>
<a rel=tag href=../../../tags/npm/ class=tag-link-3 title="1 Posts">npm<small>(3)</small></a>
<a rel=tag href=../../../tags/numpy/ class=tag-link-4 title="1 Posts">numpy<small>(4)</small></a>
<a rel=tag href=../../../tags/oauth2/ class=tag-link-2 title="1 Posts">oauth2<small>(2)</small></a>
<a rel=tag href=../../../tags/opencv/ class=tag-link-10 title="1 Posts">opencv<small>(10)</small></a>
<a rel=tag href=../../../tags/openssl/ class=tag-link-3 title="1 Posts">openssl<small>(3)</small></a>
<a rel=tag href=../../../tags/pandoc/ class=tag-link-2 title="1 Posts">pandoc<small>(2)</small></a>
<a rel=tag href=../../../tags/php/ class=tag-link-4 title="1 Posts">php<small>(4)</small></a>
<a rel=tag href=../../../tags/post/ class=tag-link-4 title="1 Posts">post<small>(4)</small></a>
<a rel=tag href=../../../tags/powershell/ class=tag-link-2 title="1 Posts">powershell<small>(2)</small></a>
<a rel=tag href=../../../tags/prometheus/ class=tag-link-8 title="1 Posts">prometheus<small>(8)</small></a>
<a rel=tag href=../../../tags/pyqt/ class=tag-link-8 title="1 Posts">pyqt<small>(8)</small></a>
<a rel=tag href=../../../tags/python/ class=tag-link-33 title="1 Posts">python<small>(33)</small></a>
<a rel=tag href=../../../tags/pytorch/ class=tag-link-6 title="1 Posts">pytorch<small>(6)</small></a>
<a rel=tag href=../../../tags/raspi/ class=tag-link-4 title="1 Posts">raspi<small>(4)</small></a>
<a rel=tag href=../../../tags/redis/ class=tag-link-2 title="1 Posts">redis<small>(2)</small></a>
<a rel=tag href=../../../tags/reflect/ class=tag-link-3 title="1 Posts">reflect<small>(3)</small></a>
<a rel=tag href=../../../tags/responsive/ class=tag-link-2 title="1 Posts">responsive<small>(2)</small></a>
<a rel=tag href=../../../tags/restful/ class=tag-link-6 title="1 Posts">restful<small>(6)</small></a>
<a rel=tag href=../../../tags/rk3288/ class=tag-link-22 title="1 Posts">rk3288<small>(22)</small></a>
<a rel=tag href=../../../tags/rk3399/ class=tag-link-9 title="1 Posts">rk3399<small>(9)</small></a>
<a rel=tag href=../../../tags/route/ class=tag-link-2 title="1 Posts">route<small>(2)</small></a>
<a rel=tag href=../../../tags/rsync/ class=tag-link-2 title="1 Posts">rsync<small>(2)</small></a>
<a rel=tag href=../../../tags/rtmp/ class=tag-link-2 title="1 Posts">rtmp<small>(2)</small></a>
<a rel=tag href=../../../tags/scikit/ class=tag-link-3 title="1 Posts">scikit<small>(3)</small></a>
<a rel=tag href=../../../tags/scrapy/ class=tag-link-8 title="1 Posts">scrapy<small>(8)</small></a>
<a rel=tag href=../../../tags/scss/ class=tag-link-2 title="1 Posts">scss<small>(2)</small></a>
<a rel=tag href=../../../tags/sed/ class=tag-link-3 title="1 Posts">sed<small>(3)</small></a>
<a rel=tag href=../../../tags/seo/ class=tag-link-5 title="1 Posts">seo<small>(5)</small></a>
<a rel=tag href=../../../tags/shell/ class=tag-link-11 title="1 Posts">shell<small>(11)</small></a>
<a rel=tag href=../../../tags/socket/ class=tag-link-5 title="1 Posts">socket<small>(5)</small></a>
<a rel=tag href=../../../tags/sqlite/ class=tag-link-2 title="1 Posts">sqlite<small>(2)</small></a>
<a rel=tag href=../../../tags/ssh/ class=tag-link-3 title="1 Posts">ssh<small>(3)</small></a>
<a rel=tag href=../../../tags/stm32/ class=tag-link-11 title="1 Posts">stm32<small>(11)</small></a>
<a rel=tag href=../../../tags/stm8/ class=tag-link-9 title="1 Posts">stm8<small>(9)</small></a>
<a rel=tag href=../../../tags/swagger/ class=tag-link-2 title="1 Posts">swagger<small>(2)</small></a>
<a rel=tag href=../../../tags/swarm/ class=tag-link-2 title="1 Posts">swarm<small>(2)</small></a>
<a rel=tag href=../../../tags/sysbench/ class=tag-link-2 title="1 Posts">sysbench<small>(2)</small></a>
<a rel=tag href=../../../tags/sysctl/ class=tag-link-2 title="1 Posts">sysctl<small>(2)</small></a>
<a rel=tag href=../../../tags/systemctl/ class=tag-link-2 title="1 Posts">systemctl<small>(2)</small></a>
<a rel=tag href=../../../tags/tc/ class=tag-link-2 title="1 Posts">tc<small>(2)</small></a>
<a rel=tag href=../../../tags/tcpdump/ class=tag-link-2 title="1 Posts">tcpdump<small>(2)</small></a>
<a rel=tag href=../../../tags/timezone/ class=tag-link-2 title="1 Posts">timezone<small>(2)</small></a>
<a rel=tag href=../../../tags/tshark/ class=tag-link-2 title="1 Posts">tshark<small>(2)</small></a>
<a rel=tag href=../../../tags/ubuntu/ class=tag-link-2 title="1 Posts">ubuntu<small>(2)</small></a>
<a rel=tag href=../../../tags/ulimit/ class=tag-link-2 title="1 Posts">ulimit<small>(2)</small></a>
<a rel=tag href=../../../tags/vim/ class=tag-link-14 title="1 Posts">vim<small>(14)</small></a>
<a rel=tag href=../../../tags/webpack3/ class=tag-link-2 title="1 Posts">webpack3<small>(2)</small></a>
<a rel=tag href=../../../tags/windows/ class=tag-link-18 title="1 Posts">windows<small>(18)</small></a>
<a rel=tag href=../../../tags/wireshark/ class=tag-link-2 title="1 Posts">wireshark<small>(2)</small></a>
<a rel=tag href=../../../tags/xidel/ class=tag-link-2 title="1 Posts">xidel<small>(2)</small></a>
<a rel=tag href=../../../tags/xml/ class=tag-link-2 title="1 Posts">xml<small>(2)</small></a>
<a rel=tag href=../../../tags/yaml/ class=tag-link-2 title="1 Posts">yaml<small>(2)</small></a>
<a rel=tag href=../../../tags/yolo/ class=tag-link-16 title="1 Posts">yolo<small>(16)</small></a>
<a rel=tag href=../../../tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=tag-link-2 title="1 Posts">微服务<small>(2)</small></a></div></div></div></div>`</div></div></div></div></div><script>var HUParams={"_disabled":[],"SmoothScroll":{"Enabled":true,"Options":{"touchpadSupport":false}},"centerAllImg":"1","timerOnScrollAllBrowsers":"1","extLinksStyle":"1","extLinksTargetExt":"1","extLinksSkipSelectors":{"classes":["btn","button"],"ids":[]},"imgSmartLoadEnabled":"1","imgSmartLoadOpts":{"parentSelectors":[".container .content",".container .sidebar","#footer","#header-widgets"],"opts":{"excludeImg":[".tc-holder-img"],"fadeIn_options":100}},"goldenRatio":"1.618","gridGoldenRatioLimit":"350","sbStickyUserSettings":{"desktop":true,"mobile":true},"isWPMobile":"","menuStickyUserSettings":{"desktop":"stick_up","mobile":"stick_up"},"isDevMode":"","ajaxUrl":"https:\/\/demo-hueman.presscustomizr.com\/?huajax=1","frontNonce":{"id":"HuFrontNonce","handle":"798e5956c0"},"userStarted":{"with":"before|1.0.4","on":{"date":"2017-05-22 16:30:22.000000","timezone_type":3,"timezone":"UTC"}},"isWelcomeNoteOn":"","welcomeContent":""};</script><script src=https://cdn.bootcss.com/lodash-compat/3.10.2/lodash.min.js></script><script src=https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js></script><script src=../../../front/js/scripts.js></script><footer id=footer><section class=container id=footer-bottom><div class=container-inner><a id=back-to-top href=#><i class="fa fa-angle-up"></i></a><div class="pad group"><div class="grid one-half"><div id=copyright><p>Copyright (c) 2017. All rights reserved. (版权所有) <a href=http://www.miitbeian.gov.cn/>鲁ICP备17074587号-1</a></div></div><div class="grid one-half last"><ul class=social-links><li><a class=social-tooltip title="On WeiBo" href=http://weibo.com/rinetd target=_blank><i class="fa fa-weibo"></i></a><li><a class=social-tooltip title="On Twitter" href=https://twitter.com/rinetd target=_blank><i class="fa fa-twitter"></i></a><li><a class=social-tooltip title="On GitHub" href=https://github.com/rinetd target=_blank><i class="fa fa-github"></i></a></ul></div></div></div></section></footer><div class=back-to-top id=back-to-top><i class="fa fa-angle-double-up"></i></div><script>$(".topbar-toggle-down").click(function(){$("#nav-topbar").css("overflow","visible");});</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HM5XM2" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5HM5XM2');</script>